(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/eye.f2a6aa70.svg"},25:function(e,t,a){e.exports=a(57)},30:function(e,t,a){},31:function(e,t,a){},48:function(e,t,a){e.exports=a.p+"static/media/normal.f0385d0c.jpg"},49:function(e,t,a){e.exports=a.p+"static/media/protanopia.02d28edb.png"},50:function(e,t,a){e.exports=a.p+"static/media/protanomaly.ceba1a52.png"},51:function(e,t,a){e.exports=a.p+"static/media/deuteranopia.05ceb3cc.png"},52:function(e,t,a){e.exports=a.p+"static/media/deuteranomaly.e3da066b.png"},53:function(e,t,a){e.exports=a.p+"static/media/tritanopia.7fa0fd7d.png"},54:function(e,t,a){e.exports=a.p+"static/media/tritanomaly.c39bd461.png"},55:function(e,t,a){e.exports=a.p+"static/media/achromatopsia.7e118f25.png"},56:function(e,t,a){e.exports=a.p+"static/media/achromatomaly.3c3ba588.png"},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),l=a.n(i),o=(a(30),a(2)),c=a(3),s=a(5),u=a(4),m=a(6),p=(a(31),a(7)),d=a(18),f=a.n(d),h=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.disease;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",zIndex:2,position:"relative",backgroundColor:"white"}},r.a.createElement(f.a,{activeIndex:b.indexOf(t),handleActiveIndexUpdate:function(t){return e.props.dispatch({type:"UPDATE_DISEASE",value:b[t]})}},b.map(function(e,t){return r.a.createElement(d.Tab,{key:t},r.a.createElement("span",{className:"mdc-tab__text-label"},e))})),r.a.createElement("div",{style:{flex:4,display:"flex",flexDirection:"row",justifyContent:"flex-start"}}))}}]),t}(r.a.Component),b=["normal","protanopie","protanomalie","deuteranopie","deuteranomalie","tritanopie","tritanomalie","achromatopsie","achromatomalie"],E=Object(p.b)(function(e){return{disease:e.disease}})(h),v=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.display;return r.a.createElement("span",{className:a?"text-shown":"text-hidden"},t)}}]),t}(r.a.Component),g=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.displayHiddenInfo;return r.a.createElement("div",{className:"content"},r.a.createElement("h1",{className:"title"},"Le daltonisme"),r.a.createElement("p",null,"Les daltoniens confondent certaines couleurs entre elles, souvent le rouge et le vert. Ils peuvent parfois ne pas distinguer les couleurs du tout."),r.a.createElement("h3",null,"Quelques chiffres"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(v,{text:4,display:e})," % de la population fran\xe7aise souffre de daltonisme :"," ",r.a.createElement(v,{text:8,display:e})," % des hommes\u2026 et seulement ",r.a.createElement(v,{text:"0,5",display:e})," % des femmes."),r.a.createElement("li",null,"H\xe9r\xe9ditaire, cette anomalie de la vision est due \xe0 l\u2019absence ou \xe0 l\u2019alt\xe9ration des cellules nerveuses r\xe9ceptrices de la r\xe9tine, les c\xf4nes, qui d\xe9tectent les couleurs puis transmettent les informations au cerveau."),r.a.createElement("li",null,"Il y a ",r.a.createElement(v,{text:"2 670 000",display:e})," ","daltoniens en France."),r.a.createElement("li",null,"Au total, ",r.a.createElement(v,{text:"32,6",display:e})," ","millions en Europe Occidentale, aux Etats-Unis et au Japon.")))}}]),t}(r.a.Component),y=a(59),O=a(21),j=a.n(O),x={protan:{cpu:.735,cpv:.265,am:1.273463,ayi:-.073894},deutan:{cpu:1.14,cpv:-.14,am:.968437,ayi:.003331},tritan:{cpu:.171,cpv:-.003,am:.062921,ayi:.292119}},I={normal:function(e){return e},protanopia:function(e){return k(e,"protan")},protanomaly:function(e){return _(e,k(e,"protan"))},deuteranopia:function(e){return k(e,"deutan")},deuteranomaly:function(e){return _(e,k(e,"deutan"))},tritanopia:function(e){return k(e,"tritan")},tritanomaly:function(e){return _(e,k(e,"tritan"))},achromatopsia:function(e){return A(e)},achromatomaly:function(e){return _(e,A(e))}},w=Array(256);function k(e,t){var a=e[2],n=e[1],r=e[0],i=w[r],l=w[n],o=w[a],c=.430574*i+.34155*l+.178325*o,s=.222015*i+.706655*l+.07133*o,u=c+s+(.020183*i+.129553*l+.93918*o),m=0,p=0;0!==u&&(m=c/u,p=s/u);var d,f=.312713*s/.329016,h=.358271*s/.329016,b=p-m*(d=m<x[t].cpu?(x[t].cpv-p)/(x[t].cpu-m):(p-x[t].cpv)/(m-x[t].cpu)),E=(x[t].ayi-b)/(d-x[t].am),v=d*E+b,g=E*s/v,y=(1-(E+v))*s/v,O=3.063218*g-1.393325*s-.475802*y,j=-.969243*g+1.875966*s+.041555*y,I=.067871*g-.228834*s+1.069251*y,k=f-g,_=h-y,A=3.063218*k-0-.475802*_,C=-.969243*k+0+.041555*_,G=.067871*k-0+1.069251*_,D=A?((O<0?0:1)-O)/A:0,R=C?((j<0?0:1)-j)/C:0,B=G?((I<0?0:1)-I)/G:0,M=Math.max(D>1||D<0?0:D,R>1||R<0?0:R,B>1||B<0?0:B);return j+=M*C,I+=M*G,[N(O+=M*A),N(j),N(I)]}function N(e){return 255*(e<=0?0:e>=1?1:Math.pow(e,1/2.2))}function _(e,t){var a=1.75,n=2.75;return[(a*t[0]+1*e[0])/n,(a*t[1]+1*e[1])/n,(a*t[2]+1*e[2])/n]}function A(e){var t=Math.round(.299*e[0]+.587*e[1]+.114*e[2]);return[t,t,t]}!function(){var e;for(e=0;e<256;e++)w[e]=Math.pow(e/255,2.2)}();var C={normal:{R:[100,0,0],G:[0,100,0],B:[0,0,100]},protanopie:{R:[56.667,43.333,0],G:[55.833,44.167,0],B:[0,24.167,75.833]},protanomalie:{R:[81.667,18.333,0],G:[33.333,66.667,0],B:[0,12.5,87.5]},deuteranopie:{R:[62.5,37.5,0],G:[70,30,0],B:[0,30,70]},deuteranomalie:{R:[80,20,0],G:[25.833,74.167,0],B:[0,14.167,85.833]},tritanopie:{R:[95,5,0],G:[0,43.333,56.667],B:[0,47.5,52.5]},tritanomalie:{R:[96.667,3.333,0],G:[0,73.333,26.667],B:[0,18.333,81.667]},achromatopsie:{R:[29.9,58.7,11.4],G:[29.9,58.7,11.4],B:[29.9,58.7,11.4]},achromatomalie:{R:[61.8,32,6.2],G:[16.3,77.5,6.2],B:[16.3,32,51.6]}};function G(e){return function(t){var a=t[0],n=t[1],r=t[2];return[a*e.R[0]/100+n*e.R[1]/100+r*e.R[2]/100,a*e.G[0]/100+n*e.G[1]/100+r*e.G[2]/100,a*e.B[0]/100+n*e.B[1]/100+r*e.B[2]/100]}}var D={};for(var R in C)C.hasOwnProperty(R)&&(D[R]=G(C[R]));var B={},M={};function T(e,t,a){"hcirnnormal"===t||"simplnormal"===t?(B[t]=e,M[t]=e,a(e,e)):function(e,t,a){var n=function(e){var t;if("hcirn"===e.substring(0,5))t=I;else{if("simpl"!==e.substring(0,5))throw"Invalid Filter Type!";t=D}if((e=e.substring(5))in t)return t[e];throw"Library does not support Filter Type: "+e}(t),r=document.createElement("canvas"),i=e.naturalWidth,l=e.naturalHeight,o=1920/i,c=1080/l,s=Math.min(o,c);i*=s,l*=s,r.setAttribute("width",i),r.setAttribute("height",l);var u=r.getContext("2d");u.drawImage(e,0,0,i,l);for(var m=u.getImageData(0,0,i,l),p=0;p<m.data.length;p+=4){var d=[m.data[p],m.data[p+1],m.data[p+2]],f=n(d);m.data[p]=f[0],m.data[p+1]=f[1],m.data[p+2]=f[2]}u.putImageData(m,0,0);var h=r.toDataURL(),b=new Image;b.onload=function(){a(this,h)},b.src=h}(e,t,function(e,n){B[t]=e,M[t]=n,a(e,n)})}var z=a(13),L=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.initRipple,a=e.label;return r.a.createElement("label",{htmlFor:"fileInput",className:"mdc-button mdc-button--outlined file-button",ref:t},a)}}]),t}(r.a.Component),q=Object(z.withRipple)(L),P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).initSlider=function(e){var t=new y.a(e);t.listen("MDCSlider:input",function(){return a.props.dispatch({type:"UPDATE_EYE_SIZE",value:Number(t.value)})})},a.onChange=function(e){B={},M={};var t=(e.target||window.event.srcElement).files,n=document.getElementById("testImg");if(FileReader&&t&&t.length){if(1!==t.length)return void alert("Can only show one file at a time");if(!t[0].type.match("image.*"))return void alert("Was not an image file. :(");var r=new FileReader;r.onload=function(){n.src=r.result,n.onload=function(){var e={};S.forEach(function(t){T(n,"simpl".concat(t),function(a){e[t]=a.src})}),a.props.dispatch({type:"UPLOAD_IMAGE",value:e})}},r.readAsDataURL(t[0])}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.size,n=t.showImage;return r.a.createElement("footer",null,r.a.createElement("div",{className:"switch"},r.a.createElement(j.a,{nativeControlId:"my-switch",checked:n,onChange:function(t){return e.props.dispatch({type:"TOGGLE_IMAGE",value:t.target.checked})}}),r.a.createElement("label",{htmlFor:"my-switch"},"Cacher l'\u0153il")),r.a.createElement("div",{className:"slider"},r.a.createElement("div",{className:"mdc-slider mdc-slider--discrete mdc-slider--display-markers",tabIndex:"0",role:"slider","aria-valuemin":"150","aria-valuemax":"800","data-step":"10","aria-valuenow":a,"aria-label":"Select Value",ref:this.initSlider},r.a.createElement("div",{className:"mdc-slider__track-container"},r.a.createElement("div",{className:"mdc-slider__track"}),r.a.createElement("div",{className:"mdc-slider__track-marker-container"})),r.a.createElement("div",{className:"mdc-slider__thumb-container"},r.a.createElement("div",{className:"mdc-slider__pin"},r.a.createElement("span",{className:"mdc-slider__pin-value-marker"})),r.a.createElement("svg",{className:"mdc-slider__thumb",width:"21",height:"21"},r.a.createElement("circle",{cx:"10.5",cy:"10.5",r:"7.875"})),r.a.createElement("div",{className:"mdc-slider__focus-ring"})))),r.a.createElement("div",{style:{flex:1,alignSelf:"center",margin:"5px"}},r.a.createElement("input",{type:"file",id:"fileInput",style:{display:"none"},onChange:this.onChange}),r.a.createElement(q,{label:"Charger image"})))}}]),t}(r.a.Component),S=["normal","protanopie","protanomalie","deuteranopie","deuteranomalie","tritanopie","tritanomalie","achromatopsie","achromatomalie"],U=Object(p.b)(function(e){return{size:e.size,showImage:e.showImage}})(P),F=a(22),H=a.n(F),W=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.position,a=e.size,n=e.background,i=e.content,l=t.x,o=t.y;return r.a.createElement("div",{style:{cursor:"none"}},r.a.createElement("div",{style:{position:"absolute",height:"".concat(a/2,"px"),width:"".concat(a/2,"px"),left:"".concat(l-a/4,"px"),top:"".concat(o-a/4,"px"),cursor:"none",clipPath:"circle(".concat(a/4,"px)")}},r.a.createElement("img",{src:n,className:"image-background",alt:"simulation"}),r.a.createElement("span",{className:"content",style:{top:"2.1em",left:"0px",font:""}},i)),r.a.createElement("img",{src:H.a,style:{position:"absolute",height:"".concat(a,"px"),width:"".concat(a,"px"),left:"".concat(l-a/2,"px"),top:"".concat(o-a/2,"px"),filter:"drop-shadow(0px 0px 5px #111)",cursor:"none"},crossOrigin:"anonymous",draggable:!1,alt:"\u0153il"}))}}]),t}(r.a.Component),J=a(24),V=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.displayHiddenInfo;return r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"Monochromatique"),r.a.createElement("p",null,"Le daltonisme monochromatique correspond \xe0 une absence partielle ou totale de la vision des couleurs. Il existe donc sous deux formes :"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Achromatomalie :")," Il s'agit de la perte partielle de la vision des couleurs."),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Achromatopsie :")," Il s'agit de la perte totale de la vision des couleurs.")),r.a.createElement("ul",null,r.a.createElement("li",null,"Elle est d\xfbe aux g\xe8nes de la iodopsine qui sont non fonctionnels pour les trois types de c\xf4nes."),r.a.createElement("li",null,"Absence totale de la perception des couleurs."),r.a.createElement("li",null,"Voit le monde en noir et blanc ainsi que des nuances de gris"),r.a.createElement("li",null,"Extr\xeamement rare :"," ",r.a.createElement(v,{text:1,display:e})," personne sur"," ",r.a.createElement(v,{text:"40 000",display:e})," environ en est atteinte.")))}}]),t}(r.a.Component),Y=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"Dichromatique"),r.a.createElement("p",null,"Il existe le daltonisme dichromatique, il correspond \xe0 une absence du g\xe8ne. Cela implique une perception uniquement \xe0 partir de deux couleurs primaires."),r.a.createElement("p",null,"Le daltonisme dichromatique existe donc sous 3 formes diff\xe9rentes :"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Protanopie : "),"perception du vert et du bleu seulement."),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Deut\xe9ranopie : "),"perception du rouge et du bleu seulement."),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Tritanopie : "),"perception du rouge et du vert seulement.")))}}]),t}(r.a.Component),Z=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"Trichromate anormal"),r.a.createElement("p",null,"Le daltonisme trichromate anormal d\xe9signe les personne dont le g\xe8ne est mut\xe9, donc le pigment a une sensibilit\xe9 diff\xe9rente. Ainsi ces personnes per\xe7oivent les trois couleurs, mais l'une d'entre elle \xe0 une intensit\xe9 anormale."),r.a.createElement("p",null,"On distingue \xe9galement trois cas :"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Protanomal : "),"lacune au niveau de la perception du rouge."),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Deut\xe9ranomal : ")," faible perception du vert."),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Tritanomal : "),"faible perception du bleu.")))}}]),t}(r.a.Component),Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={background:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,a=e.disease,n=e.showImage,i=e.diseases;return r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(J.a,{className:"App-header",style:{backgroundImage:"url(".concat(n?i[a]:i.normal,")")}},t.displayInfo(a,n),!n&&r.a.createElement(W,{background:i[a],content:t.displayInfo(a,!0),size:this.props.size})),r.a.createElement(U,null),r.a.createElement("img",{id:"testImg",src:"",alt:"versions generator canvas"}))}}],[{key:"displayInfo",value:function(e,t){return"protanopie"===e||"deuteranopie"===e||"tritanopie"===e?r.a.createElement(Y,null):"protanomalie"===e||"deuteranomalie"===e||"tritanomalie"===e?r.a.createElement(Z,null):"normal"===e?r.a.createElement(g,{displayHiddenInfo:t}):r.a.createElement(V,{displayHiddenInfo:t})}}]),t}(n.Component),$=Object(p.b)(function(e){return{disease:e.disease,size:e.size,showImage:e.showImage,diseases:e.diseaseImages}})(Q),K=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"dimensions-fallback"},r.a.createElement("h1",null,"Vous devez avoir un ecran de resolution 1680\xd7800px ou superieure pour visualiser ce contenu"))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(14),ee=a(9),te={disease:"normal",size:350,showImage:!1,diseaseImages:{normal:a(48),protanopie:a(49),protanomalie:a(50),deuteranopie:a(51),deuteranomalie:a(52),tritanopie:a(53),tritanomalie:a(54),achromatopsie:a(55),achromatomalie:a(56)}},ae=Object(X.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_DISEASE":return Object(ee.a)({},e,{disease:t.value});case"UPDATE_IMAGE":return Object(ee.a)({},e,{image:t.value});case"UPDATE_EYE_SIZE":return Object(ee.a)({},e,{size:t.value});case"TOGGLE_IMAGE":return Object(ee.a)({},e,{showImage:t.value});case"UPLOAD_IMAGE":return Object(ee.a)({},e,{diseaseImages:t.value});default:return e}});l.a.render(r.a.createElement(p.a,{store:ae},r.a.createElement($,null),r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.20f51657.chunk.js.map